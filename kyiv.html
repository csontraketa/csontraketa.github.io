<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjectKyiv</title>
    <style>
        body { font-family: sans-serif; text-align: center; margin-top: 50px; }
        #status { font-size: 1.2em; font-weight: bold; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <div id="status">Adatok lekérdezése...</div>
    <script>
        const targetUrl = 'https://alerts.in.ua/';
        const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(targetUrl)}`;
        const statusElement = document.getElementById('status');
        fetch(proxyUrl)
            .then(response => {
                if (response.ok) {
                    return response.json(); 
                }
                throw new Error('Hálózati hiba a proxy lekérdezésekor.');
            })
            .then(data => {
                const htmlContent = data.contents;
                const parser = new DOMParser();
                const doc = parser.parseFromString(htmlContent, 'text/html');
                const alertTimeElement = doc.querySelector('.alert_time');

                if (alertTimeElement) {
                    const timeText = alertTimeElement.innerText.trim();
                    statusElement.innerText = timeText;
                    statusElement.classList.add('success');
                } else {
                    statusElement.innerText = 'Nincs riasztás.';
                    statusElement.classList.add('success');
                }
            })
            .catch(error => {
                console.error('Hiba történt:', error);
                statusElement.innerText = 'Houston, we have a problem.';
                statusElement.classList.add('error');
            });
    </script>

</body>
</html>
